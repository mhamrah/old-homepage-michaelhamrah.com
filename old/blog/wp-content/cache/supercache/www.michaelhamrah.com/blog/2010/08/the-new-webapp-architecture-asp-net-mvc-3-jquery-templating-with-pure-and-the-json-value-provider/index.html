<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value ProviderAdventures in HttpContext | Adventures in HttpContext</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://www.michaelhamrah.com/blog/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://www.michaelhamrah.com/blog/wp-content/themes/publish/js/html5.js" type="text/javascript"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="Adventures in HttpContext &raquo; Feed" href="http://www.michaelhamrah.com/blog/feed/" />
<link rel="alternate" type="application/rss+xml" title="Adventures in HttpContext &raquo; Comments Feed" href="http://www.michaelhamrah.com/blog/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Adventures in HttpContext &raquo; The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider Comments Feed" href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/feed/" />
<link rel='stylesheet' id='jetpack-widgets-css'  href='http://www.michaelhamrah.com/blog/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003' type='text/css' media='all' />
<link rel='stylesheet' id='publish-style-css'  href='http://www.michaelhamrah.com/blog/wp-content/themes/publish/style.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='sharedaddy-css'  href='http://www.michaelhamrah.com/blog/wp-content/plugins/jetpack/modules/sharedaddy/sharing.css?ver=2.2' type='text/css' media='all' />
<script type='text/javascript' src='http://www.michaelhamrah.com/blog/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.michaelhamrah.com/blog/wp-content/plugins/jquery-syntax/jquery-syntax/jquery.syntax.min.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://www.michaelhamrah.com/blog/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.4.3'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.michaelhamrah.com/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.michaelhamrah.com/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Building a Single Speed: Wheel Building' href='http://www.michaelhamrah.com/blog/2010/03/building-a-single-speed-wheel-building/' />
<link rel='next' title='MVC 3 RC VS 2010 Template w/ Razor, Html 5 Boilerplate and OpenId Authentication' href='http://www.michaelhamrah.com/blog/2010/08/mvc-3-preview-1-vs-2010-template-w-razor-html-5-boilerplate-and-openid-authentication/' />
<meta name="generator" content="WordPress 3.5.1" />
<link rel='shortlink' href='http://wp.me/pnRto-6g' />

<!-- All in One SEO Pack 1.6.15.3 by Michael Torbert of Semper Fi Web Design[122,263] -->
<meta name="description" content="Over the past couple of years there has been a slow progression in the .NET web app world to fully separate out client/server interaction. Long gone are the" />
<link rel="canonical" href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/" />
<!-- /all in one seo pack -->
	<link rel="stylesheet" href="http://www.michaelhamrah.com/blog/wp-content/plugins/jquery-syntax/wp-fixes.css" type="text/css" media="screen" />
	<script type="text/javascript">
		jQuery.noConflict(); jQuery(document).ready(function($) { $.syntax({root: 'http://www.michaelhamrah.com/blog/wp-content/plugins/jquery-syntax/jquery-syntax/'}) });
	</script>

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider" />
<meta property="og:url" content="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/" />
<meta property="og:description" content="Over the past couple of years there has been a slow progression in the .NET web app world to fully separate out client/server interaction.  Long gone are the horrible days of ViewState and Events; ..." />
<meta property="og:site_name" content="Adventures in HttpContext" />
<meta property="og:image" content="http://dotnetshoutout.com/image.axd?url=http%3A%2F%2Fwww.michaelhamrah.com%2Fblog%2F2010%2F08%2Fthe-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider%2F" />
<style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<!-- Google Analytics Tracking by Google Analyticator 6.4.3: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = ['zip'];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-6576586-1']);
        _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google 
        
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body class="single single-post postid-388 single-format-standard">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
					<a class="site-logo" href="http://www.michaelhamrah.com/blog/" title="Adventures in HttpContext" rel="home">
				<img class="no-grav" src="http://gravatar.com/avatar/de52b8e08282372084fdbcc4c2fe5f38/?s=100&#038;d=identicon" height="100" width="100" alt="Adventures in HttpContext" />
			</a>
				<hgroup>
			<h1 class="site-title"><a href="http://www.michaelhamrah.com/blog/" title="Adventures in HttpContext" rel="home">Adventures in HttpContext</a></h1>
			<h2 class="site-description">All the stuff after &quot;Hello, World!&quot;</h2>
		</hgroup>

		<nav role="navigation" class="site-navigation main-navigation">
			<h1 class="assistive-text">Menu</h1>
			<div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>

			<div class="menu-home-container"><ul id="menu-home" class="menu"><li id="menu-item-808" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-808"><a href="http://www.michaelhamrah.com">Home</a></li>
<li id="menu-item-546" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-546"><a href="http://www.michaelhamrah.com/blog/about/">About</a></li>
<li id="menu-item-551" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-551"><a href="http://twitter.com/mhamrah">@mhamrah</a></li>
<li id="menu-item-552" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-552"><a href="http://www.flickr.com/photos/hamrah/tags/favorite/">Flickr</a></li>
<li id="menu-item-809" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-809"><a href="http://LinkedIn.com/in/Hamrah">LinkedIn</a></li>
</ul></div>		</nav><!-- .site-navigation .main-navigation -->

			</header><!-- #masthead .site-header -->

	<div id="main" class="site-main">
		<div id="primary" class="content-area">
			<div id="content" class="site-content" role="main">

			
				
<article id="post-388" class="post-388 post type-post status-publish format-standard hentry category-programming">
	<header class="entry-header">
		<h1 class="entry-title">The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider</h1>
	</header><!-- .entry-header -->

	<div class="entry-content">
		    <script type="text/javascript">
    // <![CDATA[
        var disqus_shortname = 'adventuresinhttpcontext';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    //]]>
    </script>
<p>Over the past couple of years there has been a slow progression in the .NET web app world to fully separate out client/server interaction.  Long gone are the horrible days of ViewState and Events; MVC provided a nice step to better structure web applications for powerful Web 2.0 experiences.  But the barrier between client and server interaction has never really been clean-  MVC markup has always been littered with C# code and there hasn&#8217;t always been widespread tools available to easily build desktop class applications in the browser.  Sure, spark and haml provide alternatives, but these are essentially make a core problem easier to bear.</p>

<p><span id="more-388"></span></p>

<p>With the new preview of MVC 3, we can eliminate that core problem of server based html rendering: the built in Json Support via the JsonValueProviderFactory along with some jQuery goodies presents us with the new web app architecture: service- orientated web apps built with a rich, js based client driven by Json based services.  Using core tools of html, css, and js and not requiring the overhead of Silverlight, Flash, or JS based web frameworks.  This JSON functionality, combined with javascript templating using <a href="http://beebole.com/pure/">PURE</a> gives us the ability to break free from the static html navigation and build dynamic apps in much more efficient ways.</p>

<h3>ASP.NET MVC 3 and the JsonValueProviderFactory</h3>

<p><a href="http://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx">Scott Guthrie writes about the new ASP.NET MVC 3 preview features</a>, and among the hype is the default Json support for action methods.  In his blog post he forgets one crucial step to actually make this work, which is adding the new JsonValueProviderFactory to the global value provider factories class in the Application start method of the global.asax, like so:</p>

<p><pre class="syntax c#">
protected void Application_Start()
{
    AreaRegistration.RegisterAllAreas();</p>

<pre><code>//Must&amp;Acirc;&amp;nbsp;add&amp;Acirc;&amp;nbsp;this&amp;Acirc;&amp;nbsp;factory&amp;Acirc;&amp;nbsp;explicitly&amp;Acirc;&amp;nbsp;(for&amp;Acirc;&amp;nbsp;now,&amp;Acirc;&amp;nbsp;at&amp;Acirc;&amp;nbsp;least):
ValueProviderFactories.Factories.Add(new JsonValueProviderFactory());

RegisterGlobalFilters(GlobalFilters.Filters);
RegisterRoutes(RouteTable.Routes);
</code></pre>

<p>}
</pre></p>

<p>Once this is in place we can treat our controller actions as usual, even when using Json.  The serialization mechanism is agnostic (this is pretty much exactly the same as Scott&#8217;s code):</p>

<p><pre class="syntax c#">
[HttpPost]
public ActionResult Search(ImageSearchInput input)
{
    //AssetSearchInput&Acirc;&nbsp;can&Acirc;&nbsp;be&Acirc;&nbsp;posted&Acirc;&nbsp;via&Acirc;&nbsp;Json
    return new JsonResult()&Acirc;&nbsp;{&Acirc;&nbsp;Data = new { ImageInfo = new&Acirc;&nbsp;Repository.ImageRepository().Search(input).Images } };
}
</pre></p>

<p>ImageSearchInput, with a string property of &#8220;Caption&#8221;, will be built from the Json data posted to the server by the following Ajax call:</p>

<p><pre class="syntax js">
$('#search').submit(function&Acirc;&nbsp;()&Acirc;&nbsp;{
  var input = { Caption: $('#caption').val() };</p>

<p>$.ajax({url: '/Home/Search',
    type: 'POST',
    data: JSON.stringify(input),
    dataType: 'json',
    contentType: 'application/json; charset=utf-8',
    success: function&Acirc;&nbsp;(data)&Acirc;&nbsp;{
        $('.imgContainer').autoRender(data);
    }
  });</p>

<p>return&Acirc;&nbsp;false;
});
</pre></p>

<p>The server will route the request to the Home/Search method, and will serialize the posted data in the ImageSearchInput class.  As long the properties match up and are of the correct type, the deserialization will be fluid.  Notice how we don&#8217;t actually need to specify the ImageSearchInput class name when building the Json object.</p>

<p>Those with keen eyes may have noticed the success: callback containing the autoRender() function.  This is the <a href="http://beebole.com/pure">PURE </a> javascript templating engine at work.  I came across PURE when reading about the <a href="http://wiki.github.com/nje/jquery/jquery-templates-proposal">jQuery templating proposal on GitHub</a> and was immediately drawn to its simplistic syntax.</p>

<p>The philosophy behind PURE is simple: instead of interleaving markup and template directives (which, to be honest, is just as bad as mixing code with markup), PURE can make assumptions about what to repeat and what to bind based on css class names and Json property names.</p>

<p>Let&#8217;s say I had the following json markup:</p>

<p><pre class="syntax js">
var data = {
    Image:
        { Filename: 'mypic1.jpg', ImageUrl: '/images/mypic1.jpg'},
        { Filename: 'agoodphoto.jpg', ImageUrl: '/images/agoodphoto.jpg'}
}
</pre></p>

<p>This is simply an Array with two objects in it.  Using PURE&#8217;s autoRender function, we can specify binding directives using CSS classes, building li elements and populating content as appropriate:</p>

<p><pre class="syntax html escaped">
&lt;ul class=&quot;imgContainer&quot;&gt;
    &lt;li class=&quot;Image&quot;&gt;
        &lt;p&gt;&lt;img class=&quot;ImageUrl@src&quot; /&gt;&lt;/p&gt;
        &lt;p class=&quot;info&quot;&gt;&lt;span class=&quot;Filename&quot;&gt;&lt;/span&gt;&lt;/p&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre></p>

<p>Because the li has the Image css class, and we have an array of Image objects, PURE will duplicate the li contents for each element in the array.  The span tag will show the filename property because it has the Filename css class.  The src attribute of the img tag will get the ImageUrl property because it is using the @ directive, which simply says &#8220;put the ImageUrl property in the src attribute&#8221;.  PURE can easily get it&#8217;s own post, but the point is simple:  we no longer need to generate server side html for displaying complex content.  Even though this has always been possible before, it hasn&#8217;t been as fluid as PURE.  Another primary benefit is that we can send incredibly complex Json data back to the client which can update numerous page snippets.  Orchestrating multi-updates, like a detail page, shopping cart, or other areas simultaneously has not been trivial, but because we have json data and templating these complex scenarios are easily achievable.</p>

<h3>Gotchas</h3>

<p>Client side templating is dangerous- you don&#8217;t really know how well the client&#8217;s computer it is.  Be mindful of performance and memory requirements, and ensure you&#8217;re targeting the right browsers.  Chrome&#8217;s V8 javascript engine has evolved remarkably well in handling javascript intensive applications.</p>

<p>As for the MVC 3 preview, I wish we saw dynamic results from controllers: specifically, one action to return either  Json, Xml, or Html output based on some request directive.  This is possible with various ActionResults or ActionFilters, and there&#8217;s some functionality already out there to do it, but it isn&#8217;t as nice as Ruby on Rail&#8217;s respond_to functionality.  A single action supporting multiple outputs will allow developers to easily target various platforms and scenarios in the web world.</p>

<h3>Final Thoughts</h3>

<p>Despite techniques of Json serialization and jQuery templating already existing in the ecosystem, it has never been as robust and integrated as with the new MVC 3 support (sure, Rails has had this for a while).  Combining this functionality with templating tools like PURE will open up new development paths for rich web applications based entirely on standard tools like javascript, html, and css without relying on chunky js frameworks.  Keeping core tools simple means having the ability to build out specific functionality as needed, rather than getting boxed into more complete frameworks.  From the managing side, it also keeps the available pool of developers large so you&#8217;re not requiring knowledge on a specific tool.  Play around with these tools and see what you can do!
<br/>
<a rev="vote-for" href="http://dotnetshoutout.com/The-New-Web-App-Architecture-ASPNET-MVC-3-jQuery-Templating-with-PURE-and-the-Json-Value-Provider-Adventures-in-HttpContext"><img alt="Shout it" src="http://dotnetshoutout.com/image.axd?url=http%3A%2F%2Fwww.michaelhamrah.com%2Fblog%2F2010%2F08%2Fthe-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider%2F" style="border:0px"/></a></p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" class="share-twitter sd-button share-icon" href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/?share=twitter" title="Click to share on Twitter" id="sharing-twitter-388"><span>Twitter</span></a></li><li class="share-linkedin"><a rel="nofollow" class="share-linkedin sd-button share-icon" href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/?share=linkedin" title="Click to share on LinkedIn" id="sharing-linkedin-388"><span>LinkedIn</span></a></li><li class="share-facebook"><a rel="nofollow" class="share-facebook sd-button share-icon" href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/?share=facebook" title="Share on Facebook" id="sharing-facebook-388"><span>Facebook</span></a></li><li class="share-google-plus-1"><a rel="nofollow" class="share-google-plus-1 sd-button share-icon" href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/?share=google-plus-1" title="Click to share on Google+" id="sharing-google-388"><span>Google +1</span></a></li><li class="share-end"></li></ul><div class="sharing-clear"></div></div></div></div><div class='yarpp-related'>
<strong class="related_posts">Related Posts:</strong> <ol>
<li><a href='http://www.michaelhamrah.com/blog/2010/02/using-flickr-and-jquery-to-learn-jsonp/' rel='bookmark' title='Using Flickr and jQuery to learn JSONP'>Using Flickr and jQuery to learn JSONP</a></li>
</ol>
<img src='http://yarpp.org/pixels/288c3ec03cb337c2e83ff8ec6c6de897'/>
</div>
			</div><!-- .entry-content -->

	<footer class="entry-meta">
		Posted on <a href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/" title="4:30 pm" rel="bookmark"><time class="entry-date" datetime="2010-08-04T16:30:05+00:00" pubdate>August 4, 2010</time></a><span class="byline"> by <span class="author vcard"><a class="url fn n" href="http://www.michaelhamrah.com/blog/author/admin/" title="View all posts by Michael" rel="author">Michael</a></span></span>.		This entry was posted in <a href="http://www.michaelhamrah.com/blog/category/programming/" title="View all posts in Programming" rel="category tag">Programming</a>. Bookmark the <a href="http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/" title="Permalink to The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider" rel="bookmark">permalink</a>.
			</footer><!-- .entry-meta -->
</article><!-- #post-388 -->

					<nav role="navigation" id="nav-below" class="site-navigation post-navigation">
		<h1 class="assistive-text">Post navigation</h1>

	
		<div class="nav-previous"><a href="http://www.michaelhamrah.com/blog/2010/03/building-a-single-speed-wheel-building/" rel="prev"><span class="meta-nav">&larr;</span> Building a Single Speed: Wheel Building</a></div>		<div class="nav-next"><a href="http://www.michaelhamrah.com/blog/2010/08/mvc-3-preview-1-vs-2010-template-w-razor-html-5-boilerplate-and-openid-authentication/" rel="next">MVC 3 RC VS 2010 Template w/ Razor, Html 5 Boilerplate and OpenId Authentication <span class="meta-nav">&rarr;</span></a></div>
	
	</nav><!-- #nav-below -->
	
				
<div id="disqus_thread">
                    <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="post pingback">
        <p>Pingback: <a href='http://topsy.com/www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/?utm_source=pingback&#038;utm_campaign=L2' rel='external nofollow' class='url'>Tweets that mention The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider | Adventures in HttpContext -- Topsy.com</a></p>
    </li>
    </li>
    <li class="comment even thread-even depth-1" id="dsq-comment-330">
        <div id="dsq-comment-header-330" class="dsq-comment-header">
            <cite id="dsq-cite-330">
http://beebole.com                <span id="dsq-author-user-330">Mic</span>
            </cite>
        </div>
        <div id="dsq-comment-body-330" class="dsq-comment-body">
            <div id="dsq-comment-message-330" class="dsq-comment-message"><p>Hi Michael,</p>

<p>This is a very nice usage of PURE.
When I see your post, I think I could have tried harder to use the autoRender in our web app.
I switched rather quickly to the declarative mode of PURE (directives).</p>

<p>One thing that you may know already; You can use the methods: compile + render, instead of autoRender.
This allows to render the same template again and again, even if the original HTML is destroyed.</p>

<p>Thanks for promoting our lib.</p>
</div>
        </div>

    </li>
    <li class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1" id="dsq-comment-331">
        <div id="dsq-comment-header-331" class="dsq-comment-header">
            <cite id="dsq-cite-331">
http://www.michaelhamrah.com                <span id="dsq-author-user-331">Michael</span>
            </cite>
        </div>
        <div id="dsq-comment-body-331" class="dsq-comment-body">
            <div id="dsq-comment-message-331" class="dsq-comment-message"><p>Hey Mic, I&#8217;m happy to give exposure to PURE.  As you know, I&#8217;ve been on the PURE boards to learn more, and am looking to put together some PURE specific posts.  I&#8217;m torn on the ease-of-use of autoRender with the power of compile vs. render.  In growing out some apps using PURE, I think the directives are the smarter way to go.</p>
</div>
        </div>

    </li>
    <li class="comment even thread-even depth-1" id="dsq-comment-334">
        <div id="dsq-comment-header-334" class="dsq-comment-header">
            <cite id="dsq-cite-334">
                <span id="dsq-author-user-334">James Hughes</span>
            </cite>
        </div>
        <div id="dsq-comment-body-334" class="dsq-comment-body">
            <div id="dsq-comment-message-334" class="dsq-comment-message"><p>Wait what?</p>

<p>&#8220;ValueProviderFactories.Factories.Add(new JsonValueProviderFactory());&#8221;</p>

<p>For my first MVC3 sample app I didn&#8217;t have to do this and it currently works fine.</p>
</div>
        </div>

    </li>
    <li class="post pingback">
        <p>Pingback: <a href='http://aspdotnetmvc.com/buzz/default.aspx' rel='external nofollow' class='url'>ASP.NET MVC Archived Buzz, Page 1</a></p>
    </li>
    </li>
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-336">
        <div id="dsq-comment-header-336" class="dsq-comment-header">
            <cite id="dsq-cite-336">
                <span id="dsq-author-user-336">Jay</span>
            </cite>
        </div>
        <div id="dsq-comment-body-336" class="dsq-comment-body">
            <div id="dsq-comment-message-336" class="dsq-comment-message"><p>Yeah, you could do this with the MVC 2 futures, which is now part of MVC 3.</p>

<p><a href="http://haacked.com/archive/2010/04/15/sending-json-to-an-asp-net-mvc-action-method-argument.aspx" rel="nofollow">http://haacked.com/archive/2010/04/15/sending-json-to-an-asp-net-mvc-action-method-argument.aspx</a></p>

<p>Also, regarding the second gotcha, with the MVC 2 futures you can simply decorate your ActionResults with [WebApiEnabled] (in Microsoft.Web.Mvc.Resources) and you will get JSON (or XML, depending on what you pass in) in return as well. Not sure if this made/makes it into MVC 3 though.</p>
</div>
        </div>

    </li>
    <li class="comment even thread-even depth-1" id="dsq-comment-337">
        <div id="dsq-comment-header-337" class="dsq-comment-header">
            <cite id="dsq-cite-337">
http://beebole.com                <span id="dsq-author-user-337">Mic</span>
            </cite>
        </div>
        <div id="dsq-comment-body-337" class="dsq-comment-body">
            <div id="dsq-comment-message-337" class="dsq-comment-message"><p>@Michael If you check the directives but still want some automation, you can think a directive as a JSON that can be dynamically generated instead of a static one. And as they are live (not stringyfied), you can use closures and pass functions as parameters.
By using some conventions, this could be a good compromise between the simplistic autoRender and the static directives.</p>
</div>
        </div>

    </li>
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-340">
        <div id="dsq-comment-header-340" class="dsq-comment-header">
            <cite id="dsq-cite-340">
http://blog.runxc.com                <span id="dsq-author-user-340">Bret Ferrier @runxc1</span>
            </cite>
        </div>
        <div id="dsq-comment-body-340" class="dsq-comment-body">
            <div id="dsq-comment-message-340" class="dsq-comment-message"><p>I wonder if one of the Issues that you are going to run into with the PURE js templating is the fact that it uses the same kind of syntax as the new default view engine in MVC namely the Razor engine.  It looks like the two might be stepping on each others toes though if you pull it off right perhaps you could get Views to work both with the Model and with a JSON object.</p>
</div>
        </div>

    </li>
    <li class="post pingback">
        <p>Pingback: <a href='http://www.michaelhamrah.com/blog/2011/05/nina-my-new-favorite-web-microframework/' rel='external nofollow' class='url'>Nina, My New Favorite Web (Micro)Framework | Adventures in HttpContext</a></p>
    </li>
    </li>
    <li class="post pingback">
        <p>Pingback: <a href='http://www.bluerayplus.com/The-New-Web-App-Architecture-ASPNET-MVC-3-jQuery-Templating-with-PURE-and-the-Json-Value-Provider-Adventures-in-HttpContext' rel='external nofollow' class='url'>Blue Ray Plus - Latest Technology News</a></p>
    </li>
    </li>
            </ul>


        </div>

    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://www.michaelhamrah.com/blog/2010/08/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider/';
    var disqus_identifier = '388 http://www.michaelhamrah.com/blog/?p=388';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'adventuresinhttpcontext';
    var disqus_title = "The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=388';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
            {
                'author_name':    "Tweets that mention The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider | Adventures in HttpContext -- Topsy.com",
                'author_url':    "http:\/\/topsy.com\/www.michaelhamrah.com\/blog\/2010\/08\/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider\/?utm_source=pingback&#038;utm_campaign=L2",
                'date':            "08\/05\/2010 12:32 PM",
                'excerpt':        "[...] This post was mentioned on Twitter by Christian Villanueva, Fabián Figueredo. Fabián Figueredo said: ASP.NET MVC 3, jQuery Templating ...<br \/>",
                'type':            "pingback"            }
,            {
                'author_name':    "ASP.NET MVC Archived Buzz, Page 1",
                'author_url':    "http:\/\/aspdotnetmvc.com\/buzz\/default.aspx",
                'date':            "08\/12\/2010 01:17 AM",
                'excerpt':        "[...] to Vote[Del.icio.us] The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json ...Wednesday, August ...<br \/>",
                'type':            "pingback"            }
,            {
                'author_name':    "Nina, My New Favorite Web (Micro)Framework | Adventures in HttpContext",
                'author_url':    "http:\/\/www.michaelhamrah.com\/blog\/2011\/05\/nina-my-new-favorite-web-microframework\/",
                'date':            "05\/11\/2011 11:32 AM",
                'excerpt':        "[...] these directly to mounted endpoints becomes much more fluid. One of my more popular articles is the New Web ...<br \/>",
                'type':            "pingback"            }
,            {
                'author_name':    "Blue Ray Plus - Latest Technology News",
                'author_url':    "http:\/\/www.bluerayplus.com\/The-New-Web-App-Architecture-ASPNET-MVC-3-jQuery-Templating-with-PURE-and-the-Json-Value-Provider-Adventures-in-HttpContext",
                'date':            "05\/08\/2012 07:22 AM",
                'excerpt':        "The New Web App Architecture: ASP.NET MVC 3, jQuery Templating with PURE and the Json Value Provider | Adventures in ...<br \/>",
                'type':            "trackback"            }
        ],
        'trackback_url': "http:\/\/www.michaelhamrah.com\/blog\/2010\/08\/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

			
			</div><!-- #content .site-content -->
		</div><!-- #primary .content-area -->

		<div id="secondary" class="widget-area" role="complementary">
						<aside id="twitter-3" class="widget widget_twitter"><h1 class="widget-title"><a href='http://twitter.com/mhamrah'>Twitter Updates</a></h1><ul class='tweets'>
			<li>
				@<a href='http://twitter.com/agebhard'>agebhard</a> Ja, es ist gut. Es ist gut. 				<a href="http://twitter.com/mhamrah/statuses/312538977448116224" class="timesince">1&nbsp;hour&nbsp;ago</a>
			</li>

			
			<li>
				@<a href='http://twitter.com/agebhard'>agebhard</a> I picture you sitting on a log cabin porch smoking a huge pipe, angrily grinning at the horizon, but it&#039;s really a German smile. 				<a href="http://twitter.com/mhamrah/statuses/312537991950249984" class="timesince">1&nbsp;hour&nbsp;ago</a>
			</li>

			
			<li>
				RT @<a href='http://twitter.com/subchild'>subchild</a>: Digg Blog, We&#039;re Building A Reader: <a href="http://blog.digg.com/post/45355701332/were-building-a-reader#.UUJTagci1Pw.twitter"> blog.digg.com/post/453557013…</a> 				<a href="http://twitter.com/mhamrah/statuses/312338856890466304" class="timesince">14&nbsp;hours&nbsp;ago</a>
			</li>

			</ul></aside>		</div><!-- #secondary .widget-area -->

	</div><!-- #main .site-main -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
			<a href="http://wordpress.org/" rel="generator">Proudly powered by WordPress</a> Theme: Publish by <a href="http://kovshenin.com/" rel="designer">Konstantin Kovshenin</a>.		</div><!-- .site-info -->
	</footer><!-- #colophon .site-footer -->
</div><!-- #page .hfeed .site -->

	<div style="display:none">
	</div>

	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/www.michaelhamrah.com\/blog\/2010\/08\/the-new-webapp-architecture-asp-net-mvc-3-jquery-templating-with-pure-and-the-json-value-provider\/":388}	</script>
<script type='text/javascript' src='http://www.michaelhamrah.com/blog/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=20121205'></script>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-linkedin' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-google-plus-1' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=600,height=600' );
				return false;
			});
		});
		</script>
		<script type='text/javascript' src='http://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201311'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2013Maraa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.michaelhamrah.com/blog/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://www.michaelhamrah.com/blog/wp-content/themes/publish/js/small-menu.js?ver=20120206'></script>

	<script src="http://stats.wordpress.com/e-201311.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.2',blog:'5687098',post:'388',tz:'-4'});
	var load_cmc = function(){linktracker_init(5687098,388,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script>
</body>
</html>

<!-- Dynamic page generated in 0.144 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2013-03-15 10:03:58 -->

<!-- super cache -->